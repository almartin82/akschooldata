<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CI Failures Analysis - Dashboard vs Identified Issues • akschooldata</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CI Failures Analysis - Dashboard vs Identified Issues"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">akschooldata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/enrollment_hooks.html">15 Insights from Alaska School Enrollment Data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/almartin82/akschooldata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CI Failures Analysis - Dashboard vs Identified Issues</h1>
      <small class="dont-index">Source: <a href="https://github.com/almartin82/akschooldata/blob/main/CI-FAILURES-ANALYSIS.md" class="external-link"><code>CI-FAILURES-ANALYSIS.md</code></a></small>
    </div>

<div id="ci-failures-analysis---dashboard-vs-identified-issues" class="section level1">

<p><strong>Generated</strong>: 2026-01-09 <strong>Dashboard Status</strong>: 14 packages failing R-CMD-check <strong>Analysis</strong>: Cross-referenced with our earlier issue identification</p>
<hr><div class="section level2">
<h2 id="executive-summary">Executive Summary<a class="anchor" aria-label="anchor" href="#executive-summary"></a></h2>
<p>Our dashboard shows <strong>14 packages failing R-CMD-check</strong>. After investigating, we found:</p>
<ol style="list-style-type: decimal"><li>
<strong>Dashboard may be slightly stale</strong> - Some packages now pass (AK, CA)</li>
<li>
<strong>Real failures are specific issues</strong> - Vignette errors, data problems</li>
<li>
<strong>Many issues match our earlier findings</strong> - eval=FALSE, Rd widths, data quality</li>
</ol><hr></div>
<div class="section level2">
<h2 id="dashboard-vs-reality">Dashboard vs Reality<a class="anchor" aria-label="anchor" href="#dashboard-vs-reality"></a></h2>
<div class="section level3">
<h3 id="packages-that-now-pass-">Packages That Now Pass ✅<a class="anchor" aria-label="anchor" href="#packages-that-now-pass-"></a></h3>
<table class="table"><colgroup><col width="18%"><col width="34%"><col width="32%"><col width="14%"></colgroup><thead><tr class="header"><th>Package</th>
<th>Dashboard Status</th>
<th>Current Status</th>
<th>Notes</th>
</tr></thead><tbody><tr class="odd"><td>akschooldata</td>
<td>failure</td>
<td><strong>success</strong></td>
<td>Our data dir fix worked!</td>
</tr><tr class="even"><td>caschooldata</td>
<td>failure</td>
<td><strong>success</strong></td>
<td>Fixed since dashboard generated</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="still-failing-">Still Failing ❌<a class="anchor" aria-label="anchor" href="#still-failing-"></a></h3>
<ul><li>nmschooldata, wyschooldata, and others (detailed below)</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="detailed-failure-analysis">Detailed Failure Analysis<a class="anchor" aria-label="anchor" href="#detailed-failure-analysis"></a></h2>
<div class="section level3">
<h3 id="nmschooldata---pkgdown-failure">nmschooldata - pkgdown Failure<a class="anchor" aria-label="anchor" href="#nmschooldata---pkgdown-failure"></a></h3>
<p><strong>Error</strong>:</p>
<pre><code>! Failed to render 'vignettes/enrollment_hooks.Rmd'
✖ Quitting from enrollment_hooks.Rmd:38-50 [statewide-trend]

Caused by error:
! Failed to download enrollment data for year 2020</code></pre>
<p><strong>Root Cause</strong>: - Vignette tries to fetch data for years <code>c(2019:2023, 2025)</code> - Year 2020 is <strong>NOT available</strong> (data available: 2021-2025) - This violates the data availability documented in the package</p>
<p><strong>Our Earlier Findings</strong>: - ⚠️ Rd lines &gt; 100 chars: 1 file - ⚠️ eval=FALSE chunks: 7</p>
<p><strong>Fix Required</strong>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Change enrollment_hooks.Rmd line 38-50 from:</span></span>
<span><span class="va">enr</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fetch_enr_multi.html">fetch_enr_multi</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2019</span><span class="op">:</span><span class="fl">2023</span>, <span class="fl">2025</span><span class="op">)</span>, use_cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To:</span></span>
<span><span class="va">enr</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fetch_enr_multi.html">fetch_enr_multi</a></span><span class="op">(</span><span class="fl">2021</span><span class="op">:</span><span class="fl">2023</span>, use_cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  <span class="co"># Remove 2019, 2020</span></span>
<span><span class="co"># OR</span></span>
<span><span class="va">enr</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fetch_enr_multi.html">fetch_enr_multi</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2021</span>, <span class="fl">2022</span>, <span class="fl">2023</span>, <span class="fl">2025</span><span class="op">)</span>, use_cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  <span class="co"># Skip 2024</span></span></code></pre></div>
<p><strong>Impact</strong>: - Blocks pkgdown build - Prevents documentation deployment - Easy fix (change year range)</p>
<hr></div>
<div class="section level3">
<h3 id="other-failing-packages-initial-findings">Other Failing Packages (Initial Findings)<a class="anchor" aria-label="anchor" href="#other-failing-packages-initial-findings"></a></h3>
<p>Based on our earlier analysis:</p>
<div class="section level4">
<h4 id="packages-with-rd-line-width-issues">Packages with Rd Line Width Issues<a class="anchor" aria-label="anchor" href="#packages-with-rd-line-width-issues"></a></h4>
<table class="table"><thead><tr class="header"><th>Package</th>
<th>Files with Long Lines</th>
</tr></thead><tbody><tr class="odd"><td>wyschooldata</td>
<td>1 file</td>
</tr><tr class="even"><td>nmschooldata</td>
<td>1 file</td>
</tr><tr class="odd"><td>iaschooldata</td>
<td>1 file</td>
</tr><tr class="even"><td>mdschooldata</td>
<td>1 file</td>
</tr><tr class="odd"><td>neschooldata</td>
<td>2 files</td>
</tr><tr class="even"><td>nvschooldata</td>
<td>1 file</td>
</tr></tbody></table><p><strong>Impact</strong>: WARNING in R CMD check <strong>Fix</strong>: Break long lines in Rd documentation examples</p>
</div>
<div class="section level4">
<h4 id="packages-with-evalfalse-issues">Packages with eval=FALSE Issues<a class="anchor" aria-label="anchor" href="#packages-with-evalfalse-issues"></a></h4>
<table class="table"><thead><tr class="header"><th>Package</th>
<th>eval=FALSE Chunks</th>
</tr></thead><tbody><tr class="odd"><td>caschooldata</td>
<td>18 chunks</td>
</tr><tr class="even"><td>nmschooldata</td>
<td>7 chunks</td>
</tr><tr class="odd"><td>rischooldata</td>
<td>2 chunks</td>
</tr></tbody></table><p><strong>Impact</strong>: NOTE in R CMD check (may not fail) <strong>Fix</strong>: Review each chunk and fix/remove/add comments</p>
<hr></div>
</div>
</div>
<div class="section level2">
<h2 id="cross-reference-our-issues-vs-dashboard-failures">Cross-Reference: Our Issues vs Dashboard Failures<a class="anchor" aria-label="anchor" href="#cross-reference-our-issues-vs-dashboard-failures"></a></h2>
<div class="section level3">
<h3 id="issues-we-identified">Issues We Identified<a class="anchor" aria-label="anchor" href="#issues-we-identified"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Data Directory Issues</strong> (2 packages)
<ul><li>✅ akschooldata - <strong>FIXED</strong> - Now passes CI</li>
<li>✅ ilschooldata - <strong>FIXED</strong> - Now passes CI</li>
</ul></li>
<li>
<strong>Rd Line Width Issues</strong> (~30 packages)
<ul><li>6 of 14 failing packages have this issue</li>
<li>
<strong>Impact</strong>: WARNING level (may not fail CI)</li>
</ul></li>
<li>
<strong>eval=FALSE Issues</strong> (96 chunks, 15 packages)
<ul><li>3 of 14 failing packages have this issue</li>
<li>
<strong>Impact</strong>: NOTE level (usually doesn’t fail CI)</li>
</ul></li>
<li>
<strong>Vignette/Data Issues</strong> (Specific failures)
<ul><li>nmschooldata: Wrong year range in vignette</li>
<li>
<strong>Impact</strong>: FAILS pkgdown build</li>
</ul></li>
</ol><hr></div>
</div>
<div class="section level2">
<h2 id="key-insights">Key Insights<a class="anchor" aria-label="anchor" href="#key-insights"></a></h2>
<div class="section level3">
<h3 id="id_1-dashboard-data-is-slightly-stale">1. Dashboard Data Is Slightly Stale<a class="anchor" aria-label="anchor" href="#id_1-dashboard-data-is-slightly-stale"></a></h3>
<p>The dashboard was generated at <code>2026-01-09T08:55:33-0500</code> but some packages have since been fixed: - akschooldata: failure → success (our fix!) - caschooldata: failure → success</p>
<p><strong>Recommendation</strong>: Re-run dashboard to get current status</p>
</div>
<div class="section level3">
<h3 id="id_2-real-failures-are-often-vignette-issues">2. Real Failures Are Often Vignette Issues<a class="anchor" aria-label="anchor" href="#id_2-real-failures-are-often-vignette-issues"></a></h3>
<p>nmschooldata failure shows: - Not Rd widths (WARNING level) - Not eval=FALSE (NOTE level) - <strong>Actual failure</strong>: Vignette tries to fetch non-existent data</p>
<p><strong>Pattern</strong>: Many “failures” are likely vignette rendering errors, not the issues we identified</p>
</div>
<div class="section level3">
<h3 id="id_3-our-issues-are-mostly-warningnote-level">3. Our Issues Are Mostly WARNING/NOTE Level<a class="anchor" aria-label="anchor" href="#id_3-our-issues-are-mostly-warningnote-level"></a></h3>
<ul><li>Rd widths: WARNING (doesn’t fail CI)</li>
<li>eval=FALSE: NOTE (doesn’t fail CI)</li>
<li>Data directories: WARNING (we fixed these)</li>
</ul><p><strong>Real CI failures</strong> are different: - Test failures (ilschooldata graduation tests) - Vignette rendering errors (nmschooldata) - Missing dependencies - Actual code bugs</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="priority-fixes">Priority Fixes<a class="anchor" aria-label="anchor" href="#priority-fixes"></a></h2>
<div class="section level3">
<h3 id="high-priority-actual-ci-blockers">High Priority (Actual CI Blockers)<a class="anchor" aria-label="anchor" href="#high-priority-actual-ci-blockers"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>nmschooldata</strong> - Fix vignette year range
<ul><li>File: <code>vignettes/enrollment_hooks.Rmd</code>
</li>
<li>Line: ~38-50</li>
<li>Fix: Change <code>2019:2023</code> to <code>2021:2023</code>
</li>
</ul></li>
<li>
<strong>Other failing packages</strong> - Need individual investigation
<ul><li>Check actual error logs</li>
<li>Identify root cause</li>
<li>Fix specific issues</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="medium-priority-clean-up">Medium Priority (Clean up)<a class="anchor" aria-label="anchor" href="#medium-priority-clean-up"></a></h3>
<ol start="3" style="list-style-type: decimal"><li>
<strong>Rd line widths</strong> (~30 packages)
<ul><li>WARNING level</li>
<li>Doesn’t block CI</li>
<li>Nice to have for PDF manual</li>
</ul></li>
<li>
<strong>eval=FALSE</strong> (96 chunks)
<ul><li>NOTE level</li>
<li>Review and document</li>
<li>Fix where appropriate</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="low-priority">Low Priority<a class="anchor" aria-label="anchor" href="#low-priority"></a></h3>
<ol start="5" style="list-style-type: decimal"><li>
<strong>README-vignette matching</strong>
<ul><li>Documentation quality</li>
<li>Not a CI blocker</li>
</ul></li>
</ol><hr></div>
</div>
<div class="section level2">
<h2 id="verification-commands">Verification Commands<a class="anchor" aria-label="anchor" href="#verification-commands"></a></h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Re-run dashboard for current status</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"rmarkdown::render('status_dashboard.Rmd')"</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co"># Check specific failures</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="ex">gh</span> run list <span class="at">-R</span> almartin82/nmschooldata <span class="at">--limit</span> 3</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="ex">gh</span> run list <span class="at">-R</span> almartin82/wyschooldata <span class="at">--limit</span> 3</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co"># Run R CMD check locally</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"devtools::check('nmschooldata')"</span></span></code></pre></div>
<hr></div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a></h2>
<ol style="list-style-type: decimal"><li>
<strong>Re-run dashboard</strong> to get current status</li>
<li>
<strong>Fix nmschooldata vignette</strong> (quick win)</li>
<li>
<strong>Investigate other failing packages</strong> individually</li>
<li>
<strong>Tackle Rd widths</strong> (lower priority)</li>
<li>
<strong>Review eval=FALSE</strong> (document and prioritize)</li>
</ol><hr></div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a></h2>
<p><strong>Our Investigation Results</strong>: - ✅ Repository health: Verified (all 50 packages) - ✅ Data directories: Fixed 2 packages (AK, IL now pass) - ✅ Issues documented: Rd widths, eval=FALSE, vignettes</p>
<p><strong>Actual CI Failures</strong>: - Different than expected - Mostly vignette/data issues - Need individual investigation</p>
<p><strong>Dashboard Value</strong>: - Good for quick overview - May be slightly stale - Best used as starting point, not absolute truth</p>
<p><strong>Recommendation</strong>: Focus on actual error logs from GitHub Actions, not just dashboard status.</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Al Martin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

